import { Car } from "./models/Car.js"
import { House } from "./models/Houses.js"
import { Value } from "./models/Value.js"
import { EventEmitter } from "./utils/EventEmitter.js"
import { isValidProp } from "./utils/IsValidProp.js"
import { loadState } from "./utils/Store.js"

class ObservableAppState extends EventEmitter {
  page = ''

  /** @type {import('./models/Value.js').Value[]} */
  values = loadState('values', [Value])


  /** @type {Car[]} */
  cars = [
    new Car({
      year: 2004,
      make: 'Mazda',
      model: 'Miata',
      mileage: 60000,
      runs: false,
      imgUrl: 'https://images.unsplash.com/photo-1561043845-2f5e09749871?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8bWlhdGF8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60',
      isNew: false,
      price: 12000,
      color: '#080f14',
      description: 'This one is just for Jeremy, no one else contact me'
    }),
    new Car({
      year: 1998,
      make: 'Suzuki',
      model: 'Escudo',
      mileage: 80,
      runs: true,
      imgUrl: 'https://static1.hotcarsimages.com/wordpress/wp-content/uploads/2021/06/Suzuki-Escudo-Pikes-Peak-Motor-1.jpg',
      isNew: true,
      price: 400000,
      color: '#940109',
      description: 'The fastest car in Gran Turismo 2 on Playstation'
    }),
  ]

  houses = [
    new House({ year: 1980, name: 'First Home', bedrooms: 2, bathrooms: 1, sqft: 2000, price: 200000, description: 'This is a really safe house in a really good area', imgUrl: "https://www.huduser.gov/portal/pdredge/images/pdr_edge/Inpractice_061614_1.jpg" }),
    new House({ year: 2018, name: 'Team 10', bedrooms: 10, bathrooms: 7, sqft: 3500, price: 2000000, description: 'Jake Paul!', imgUrl: "data:image/jpeg;base64,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" })

  ]

  // NOTE Used to load initial data
  init() {
    this.cars = loadState('cars', [Car])
  }

}

export const AppState = new Proxy(new ObservableAppState(), {
  get(target, prop) {
    isValidProp(target, prop)
    return target[prop]
  },
  set(target, prop, value) {
    isValidProp(target, prop)
    target[prop] = value
    target.emit(prop, value)
    return true
  }
})
